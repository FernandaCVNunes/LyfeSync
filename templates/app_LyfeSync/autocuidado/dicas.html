{# dicas.html #}
{% extends 'app_LyfeSync/layouts/masterpage_logado.html' %}
{% load static %}
{% load custom_filters %}
{% load app_LyfeSync_extras %}
{% load widget_tweaks %}

{% block title %}GestÃ£o de Dicas de Autocuidado{% endblock %}

{% block extra_css %}
Â  <link rel="stylesheet" href="{% static 'css/autocuidado.css' %}">
{% endblock %}

{% block content_logado %}

<div class="container-fluid">

    {% if messages %}
        <div class="messages mb-3">
            {% for message in messages %}
                <div class="alert alert-{{ message.tags|default_if_none:'info' }} alert-dismissible fade show" role="alert">
                    {{ message }}
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
            {% endfor %}
        </div>
    {% endif %}

    <div class="row justify-content-center">
        <div class="col-10">
            <div class="d-flex justify-content-center align-items-center pb-2">
                <h1 class="h3 fw-bolder text-danger m-0">GestÃ£o de Dicas de Autocuidado</h1>
            </br>
            </div>
            <button type="button" class="fs-5 btn btn-sm btn-danger text-white fw-bold d-flex align-items-center" data-bs-toggle="modal" data-bs-target="#adicionarDicaModal">
                Adicionar Dicas
            </button>
            <hr class="flex-grow-1 border-secondary border-1"> 

            <div class="card p-2 rounded-1 border-0 mt-2">
                <h2 class="fw-bold fs-5 text-white mb-3 badge bg-secondary text-wrap p-2">Dicas Cadastradas</h2>
                
            {% if page_obj %}
                <ul class="list-group list-group-flush">
                    {% for dica in page_obj %} 
                        <li class="list-group-item d-flex justify-content-between align-items-center p-2 border border-secondary mb-2">
                            <div>
                                <p class="fw-bold mb-1 text-primary">{{ dica.nomeDica }}</p>
                                <p class="mb-1 small text-muted">Humor: {{ dica.humor_relacionado }}</p> 
                                <p class="mb-1 text-md">{{ dica.descricaoDica|truncatechars:100 }}</p>
                            </div>
                            <div class="btn-group" role="group">
                                {# âœï¸ BotÃ£o de EdiÃ§Ã£o (Abre o Modal de EdiÃ§Ã£o e passa os dados) #}
                                <button type="button" class="btn btn-sm btn-outline-info fw-bold" 
                                    data-bs-toggle="modal" 
                                    data-bs-target="#editarDicaModal"
                                    data-dica-id="{{ dica.pk }}"
                                    data-dica-nome="{{ dica.nomeDica|escapejs }}" 
                                    data-dica-descricao="{{ dica.descricaoDica|escapejs }}" 
                                    data-dica-humor-id="{{ dica.humor_relacionado.pk }}"
                                    title="Editar Dica">
                                    <i class="bi bi-pencil"></i><span>Alterar</span>
                                </button>
                                {# ğŸ—‘ï¸ BotÃ£o de ExclusÃ£o (Dispara o Modal de ConfirmaÃ§Ã£o) #}
                                <button type="button" class="btn btn-sm btn-outline-danger fw-bold" 
                                    data-bs-toggle="modal" 
                                    data-bs-target="#excluirDicaModal"
                                    data-dica-id="{{ dica.pk }}"
                                    data-dica-nome="{{ dica.nomeDica|escapejs }}"
                                    title="Excluir Dica">
                                    <i class="bi bi-trash"></i><span>Excluir</span>
                                </button>
                             </div>
                        </li>
                    {% endfor %}
                </ul>

                {# ------------------------------------------------------------------ #}
                {# BLOCO DE PAGINAÃ‡ÃƒO #}
                {# ------------------------------------------------------------------ #}
                {% if page_obj.paginator.num_pages > 1 %}
                    <nav aria-label="PaginaÃ§Ã£o de Dicas" class="mt-4 justify-content-between" >
                        <ul class="d-flex pagination justify-content-center">
                            {# BotÃ£o Anterior #}
                            <li class="page-item {% if not page_obj.has_previous %}disabled{% endif %}">
                                <a class="page-link" href="{% if page_obj.has_previous %}?page={{ page_obj.previous_page_number }}{% else %}#{% endif %}" aria-label="Anterior">
                                    <span aria-hidden="true">&laquo;</span>
                                </a>
                            </li>

                            {# NÃºmeros de PÃ¡ginas #}
                            {% for i in page_obj.paginator.page_range %}
                                {% if page_obj.number == i %}
                                    <li class="page-item active" aria-current="page">
                                    Â  Â  <span class="page-link">{{ i }}</span>
                                    </li>
                                {% elif i > page_obj.number|add:-3 and i < page_obj.number|add:3 %} 
                                    <li class="page-item">
                                    Â  Â  <a class="page-link" href="?page={{ i }}">{{ i }}</a>
                                    </li>
                                {% endif %}
                            {% endfor %}

                            {# BotÃ£o PrÃ³xima #}
                            <li class="page-item {% if not page_obj.has_next %}disabled{% endif %}">
                                <a class="page-link" href="{% if page_obj.has_next %}?page={{ page_obj.next_page_number }}{% else %}#{% endif %}" aria-label="PrÃ³xima">
                                    <span aria-hidden="true">&raquo;</span>
                                </a>
                            </li>
                        </ul>
                    </nav>
                {% endif %}
                {# FIM DO BLOCO DE PAGINAÃ‡ÃƒO #}
                
            {% else %}
                <div class="alert alert-info text-center mt-3" role="alert">
                Â  Â  Nenhuma dica de autocuidado cadastrada ainda. Use o botÃ£o "Adicionar Dicas" acima para registar a primeira!
                </div>
            {% endif %}

                <p class="h5 fw-bold text-secondary mb-3">Total de Dicas Cadastradas ({% if page_obj %}{{ page_obj.paginator.count }}{% else %}0{% endif %} itens)</p>
            </div>
        </div>
    </div>
</div>

{# ------------------------------------------------------------------ #}
{# MODAL DE ADICIONAR DICA (CÃ“DIGO MANTIDO) #}
{# ------------------------------------------------------------------ #}
<div class="modal fade" id="adicionarDicaModal" tabindex="-1" aria-labelledby="adicionarDicaModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg">
        <div class="modal-content rounded-4 shadow-lg">
            
            {% if not form %}
                <div class="alert alert-danger p-5 text-center">
                Â  Â  Erro: O formulÃ¡rio de cadastro nÃ£o foi carregado corretamente. Verifique sua funÃ§Ã£o de *view* (registrar_dica).
                </div>
            {% else %}
                <form method="post" action="{% url 'registrar_dica' %}">
                Â  Â  {% csrf_token %}
                Â  Â  <div class="modal-header border-bottom-0">
                Â  Â  Â  Â  <h5 class="modal-title fw-bolder text-dark" id="adicionarDicaModalLabel">Adicionar Nova Dica</h5>
                Â  Â  Â  Â  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                Â  Â  </div>
                Â  Â  <div class="modal-body p-4">

                Â  Â  Â  Â  {# Bloco de SeleÃ§Ã£o de Humor - Usando handleHumorSelection para Adicionar #}
                Â  Â  Â  Â  <div class="mb-4">
                            <label class="form-label h5 fw-semibold text-secondary mb-3">Selecione o Humor:</label>
                            
                            {# Oculta o widget completo do Django (contÃ©m os inputs radio reais) #}
                            <div id="radio-widget-adicionar" class="d-none">{{ form.humor_relacionado }}</div>

                            <div class="d-flex flex-wrap justify-content-center gap-3 humor-grid">
                                {% for tipo in humores_disponiveis %} 
                                <div class="humor-option-card" data-humor-container data-humor-value="{{ tipo.pk }}" 
                                Â  Â  onclick="handleHumorSelection(this, '{{ tipo.pk }}', '#radio-widget-adicionar')">
                                Â  Â  {% with image_path=tipo.icone|default:'img/icon/adchumor.png' %}
                                Â  Â  <img src="{% static image_path %}" alt="{{ tipo.estado }}" width="40" height="40" class="img-fluid">
                                Â  Â  {% endwith %}
                                Â  Â  <span class="humor-label">{{ tipo.estado }}</span>
                                </div>
                                {% endfor %}
                            </div>

                            {% if form.humor_relacionado.errors %}
                            <div class="text-danger small mt-1">{{ form.humor_relacionado.errors }}</div>
                            {% endif %}
                Â  Â  Â  Â  </div>
                Â  Â  Â  Â  {# FIM DO BLOCO DE SELEÃ‡ÃƒO DE HUMOR #}
                Â  Â  Â  Â  
                Â  Â  Â  Â  {# Campo Nome da Dica #}
                Â  Â  Â  Â  <div class="mb-4">
                            <label for="{{ form.nomeDica.id_for_label }}" class="form-label fw-semibold">Nome da Dica:</label>
                            {{ form.nomeDica|add_class:'form-control'|attr:'placeholder:Ex: Beber Ã¡gua e alongar' }}
                            {% if form.nomeDica.errors %}
                            <small class="text-danger d-block mt-1">{{ form.nomeDica.errors }}</small>
                            {% endif %}
                Â  Â  Â  Â  </div>

                Â  Â  Â  Â  {# Campo DescriÃ§Ã£o #}
                Â  Â  Â  Â  <div class="mb-4">
                            <label for="{{ form.descricaoDica.id_for_label }}" class="form-label fw-semibold">DescriÃ§Ã£o:</label>
                            {{ form.descricaoDica|add_class:'form-control'|attr:'rows:5'|attr:'placeholder:DescriÃ§Ã£o detalhada da dica de autocuidado.' }}
                            {% if form.descricaoDica.errors %}
                            <small class="text-danger d-block mt-1">{{ form.descricaoDica.errors }}</small>
                            {% endif %}
                Â  Â  Â  Â  </div>

                Â  Â  </div>
                Â  Â  <div class="modal-footer border-top-0 justify-content-end">
                Â  Â  Â  Â  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
                Â  Â  Â  Â  <button type="submit" class="btn btn-success fw-bold">Salvar Dica</button>
                Â  Â  </div>
                </form>
            {% endif %}
         </div>
    </div>
</div>

{# ------------------------------------------------------------------ #}
{# MODAL DE EDITAR DICA  #}
{# ------------------------------------------------------------------ #}
<div class="modal fade" id="editarDicaModal" tabindex="-1" aria-labelledby="editarDicaModalLabel" aria-hidden="true">
Â  Â  <div class="modal-dialog modal-dialog-centered modal-lg">
Â  Â  Â  Â  <div class="modal-content rounded-4 shadow-lg">
            
            <form method="post" id="form-editar-dica">
                {% csrf_token %}
                <div class="modal-header border-bottom-0">
                Â  Â  <h5 class="modal-title fw-bolder text-dark" id="editarDicaModalLabel">Editar Dica:</h5>
                </br>
                    <span id="dica-nome-edicao" class="text-info"></span>
                Â  Â  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body p-4">

                Â  Â  {# Bloco de SeleÃ§Ã£o de Humor - Usando handleHumorSelection para Editar #}
                Â  Â  <div class="mb-4">
                Â  Â  Â  Â  <label class="form-label h5 fw-semibold text-secondary mb-3">Selecione o Humor:</label>
                Â  Â  Â  Â  
                Â  Â  Â  Â  {# Incluir o campo humor_relacionado do FORM aqui, mas escondido, para que o JS possa manipulÃ¡-lo #}
                Â  Â  Â  Â  <div id="radio-widget-editar" class="d-none">
                            {# Ã‰ CRÃTICO que o form.humor_relacionado seja renderizado aqui para conter os inputs de rÃ¡dio #}
                            {% for radio in form.humor_relacionado %}
                                {{ radio }}
                            {% endfor %}
                Â  Â  Â  Â  </div>

                Â  Â  Â  Â  <div class="d-flex flex-wrap justify-content-center gap-1 humor-grid" id="humor-grid-edit">
                            {% for tipo in humores_disponiveis %} 
                            <div class="humor-option-card" data-humor-container data-humor-value="{{ tipo.pk }}" 
                                onclick="handleHumorSelection(this, '{{ tipo.pk }}', '#radio-widget-editar')">
                                {% with image_path=tipo.icone|default:'img/icon/adchumor.png' %}
                                <img src="{% static image_path %}" alt="{{ tipo.estado }}" width="40" height="40" class="img-fluid" />
                                {% endwith %}
                                <span class="humor-label">{{ tipo.estado }}</span>
                            </div>
                            {% endfor %}
                Â  Â  Â  Â  </div>
                Â  Â  Â  Â  
                Â  Â  Â  Â  {# NÃ£o precisa de erros aqui, pois o form.humor_relacionado estÃ¡ na div oculta #}
                Â  Â  </div>
                Â  Â  {# FIM DO BLOCO DE SELEÃ‡ÃƒO DE HUMOR #}
                Â  Â  
                Â  Â  {# Campo Nome da Dica #}
                Â  Â  <div class="mb-4">
                Â  Â  Â  Â  <label for="id_nomeDica_edit" class="form-label fw-semibold">Nome da Dica:</label>
                Â  Â  Â  Â  <input type="text" name="nomeDica" id="id_nomeDica_edit" class="form-control" required placeholder="Digite um tÃ­tulo curto para a dica">
                Â  Â  </div>

                Â  Â  {# Campo DescriÃ§Ã£o #}
                Â  Â  <div class="mb-4">
                Â  Â  Â  Â  <label for="id_descricaoDica_edit" class="form-label fw-semibold">DescriÃ§Ã£o:</label>
                Â  Â  Â  Â  <textarea name="descricaoDica" id="id_descricaoDica_edit" rows="5" class="form-control" required placeholder="Escreva aqui a descriÃ§Ã£o detalhada da dica..." style="min-height: 200px;"></textarea>
                Â  Â  </div>

                </div>
                <div class="modal-footer border-top-0 justify-content-end">
                Â  Â  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
                Â  Â  <button type="submit" class="btn btn-info fw-bold text-white">Salvar AlteraÃ§Ãµes</button>
                </div>
            </form>
Â  Â  Â  Â  </div>
Â  Â  </div>
</div>

{# ------------------------------------------------------------------ #}
{# MODAL DE EXCLUSÃƒO #}
{# ------------------------------------------------------------------ #}
<div class="modal fade" id="excluirDicaModal" tabindex="-1" aria-labelledby="excluirDicaModalLabel" aria-hidden="true">
Â  Â  <div class="modal-dialog modal-dialog-centered">
Â  Â  Â  Â  <div class="modal-content rounded-4 shadow">
            <div class="modal-header bg-danger text-white border-0">
                <h5 class="modal-title" id="excluirDicaModalLabel">Confirmar ExclusÃ£o</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <form method="POST" id="form-excluir-dica">
                {% csrf_token %}
                <div class="modal-body">
                Â  Â  <p class="mb-3">Tem certeza de que deseja **excluir** a dica:</p>
                Â  Â  <p class="fw-bold text-danger text-center h5" id="dica-nome-confirmacao"></p>
                Â  Â  <p class="mt-3">Esta aÃ§Ã£o nÃ£o pode ser desfeita.</p>
                </div>
                <div class="modal-footer border-top-0">
                Â  Â  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                Â  Â  <button type="submit" class="btn btn-danger fw-bold">Sim, Excluir</button>
                </div>
            </form>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  
Â  Â  </div>
</div>

<div class="d-flex justify-content-between mt-5">
Â  Â  <button onclick="window.history.back()" class="btn btn-outline-secondary btn-lg shadow-sm">
Â  Â  Â  Â  <i class="bi bi-arrow-left me-2"></i> Voltar Ã  PÃ¡gina Anterior
Â  Â  </button>
</div>

<script>
Â  Â  // CRÃTICO: Define a URL base de alteraÃ§Ã£o no JavaScript, avaliada pelo Django
Â  Â  // Ex: /dicas/alterar/
Â  Â  const URL_ALTERAR_DICA_BASE = "{% url 'alterar_dica' dica_id=0 %}".replace('0/', '');


Â  Â  /**
Â  Â  Â * FunÃ§Ã£o para lidar com a seleÃ§Ã£o visual de humor, marcando o input de rÃ¡dio correto.
Â  Â  Â * @param {HTMLElement} element - O cartÃ£o humor-option-card clicado.
Â  Â  Â * @param {string|number} humorValue - O PK do humor.
Â  Â  Â * @param {string} radioWidgetSelector - O seletor do container DENTRO DO MODAL que contÃ©m os inputs de rÃ¡dio reais.
Â  Â  Â */
Â  Â  function handleHumorSelection(element, humorValue, radioWidgetSelector) {
Â  Â  Â  Â  const val = String(humorValue);
Â  Â  Â  Â  const formFieldName = 'humor_relacionado';
Â  Â  Â  Â  const modalElement = element ? element.closest('.modal') : document.querySelector(radioWidgetSelector).closest('.modal');
Â  Â  Â  Â  
Â  Â  Â  Â  if (!modalElement) {
            console.error("Elemento modal pai nÃ£o encontrado.");
            return;
Â  Â  Â  Â  }

Â  Â  Â  Â  // 1. Remove o destaque de todos os cartÃµes dentro do mesmo modal
Â  Â  Â  Â  modalElement.querySelectorAll('[data-humor-container]').forEach(function (el) {
            el.classList.remove('active', 'selected', 'border', 'border-4', 'border-primary');
            el.setAttribute('aria-checked', 'false');
Â  Â  Â  Â  });

Â  Â  Â  Â  // 2. Adiciona o destaque ao elemento clicado (se houver elemento, se nÃ£o, apenas marca o rÃ¡dio)
Â  Â  Â  Â  if (element) {
            element.classList.add('active', 'selected', 'border', 'border-4', 'border-primary');
            element.setAttribute('aria-checked', 'true');
Â  Â  Â  Â  }

Â  Â  Â  Â  // 3. Marca o input de rÃ¡dio correspondente (busca dentro do container de rÃ¡dio real)
Â  Â  Â  Â  const radioContainer = document.querySelector(radioWidgetSelector);
Â  Â  Â  Â  if (!radioContainer) {
            console.error(`Container de rÃ¡dio (${radioWidgetSelector}) nÃ£o encontrado.`);
            return;
Â  Â  Â  Â  }

Â  Â  Â  Â  const radioInputs = radioContainer.querySelectorAll(`input[name="${formFieldName}"][type="radio"]`);
Â  Â  Â  Â  radioInputs.forEach(function (input) {
            if (input.value === val) {
                input.checked = true;
            } else {
                input.checked = false;
            }
Â  Â  Â  Â  });
Â  Â  }


Â  Â  document.addEventListener('DOMContentLoaded', function () {
Â  Â  Â  Â  
Â  Â  Â  Â  const formFieldName = 'humor_relacionado';

Â  Â  Â  Â  // ------------------------------------------------------------------
Â  Â  Â  Â  // LÃ³gica de PrÃ©-SeleÃ§Ã£o do Modal de ADIÃ‡ÃƒO (em caso de erro de validaÃ§Ã£o)
Â  Â  Â  Â  // ------------------------------------------------------------------
Â  Â  Â  Â  const checkedRadioAdicionar = document.querySelector('#radio-widget-adicionar input[name="' + formFieldName + '"][type="radio"]:checked');
Â  Â  Â  Â  if (checkedRadioAdicionar) {
            const preSelectedValue = checkedRadioAdicionar.value;
            
            // Ativa o cartÃ£o visualmente
            const initialElement = document.querySelector(`#adicionarDicaModal [data-humor-value="${String(preSelectedValue)}"]`);
            if (initialElement) {
                initialElement.classList.add('active', 'selected', 'border', 'border-4', 'border-primary');
            }

            // ForÃ§a a abertura do modal se houver um erro de validaÃ§Ã£o
            if (document.querySelector('.messages .alert-danger')) {
                var modalEl = document.getElementById('adicionarDicaModal');
                if (modalEl) {
                Â  Â  var modal = new bootstrap.Modal(modalEl);
                Â  Â  modal.show();
                }
            }
Â  Â  Â  Â  }
Â  Â  Â  Â  
Â  Â  Â  Â  // ------------------------------------------------------------------
Â  Â  Â  Â  // LÃ³gica para o Modal de ExclusÃ£o (MANTIDA)
Â  Â  Â  Â  // ------------------------------------------------------------------
Â  Â  Â  Â  var excluirDicaModal = document.getElementById('excluirDicaModal');
Â  Â  Â  Â  if (excluirDicaModal) {
            excluirDicaModal.addEventListener('show.bs.modal', function (event) {
                var button = event.relatedTarget;
                var dicaId = button.getAttribute('data-dica-id');
                var dicaNome = button.getAttribute('data-dica-nome');
                
                var modalNomeDica = excluirDicaModal.querySelector('#dica-nome-confirmacao');
                var modalForm = excluirDicaModal.querySelector('#form-excluir-dica');

                modalNomeDica.textContent = dicaNome;
                modalForm.setAttribute('action', `/dicas/excluir/${dicaId}/`); // ConfirmaÃ§Ã£o de URL
            });
Â  Â  Â  Â  }

Â  Â  Â  Â  // ------------------------------------------------------------------
Â  Â  Â  Â  // LÃ³gica para o Modal de EdiÃ§Ã£o (PREENCHIMENTO DE DADOS E PRÃ‰-SELEÃ‡ÃƒO)
Â  Â  Â  Â  // ------------------------------------------------------------------
Â  Â  Â  Â  var editarDicaModal = document.getElementById('editarDicaModal');
Â  Â  Â  Â  if (editarDicaModal) {
            editarDicaModal.addEventListener('show.bs.modal', function (event) {
                var button = event.relatedTarget; // BotÃ£o que disparou o modal
                
                // 1. Obter dados dos data attributes (usando .dataset para conveniÃªncia)
                var dicaId = button.dataset.dicaId;
                var dicaNome = button.dataset.dicaNome;
                var dicaDescricao = button.dataset.dicaDescricao;
                var dicaHumorId = button.dataset.dicaHumorId;
                
                // 2. Referenciar elementos do modal de ediÃ§Ã£o
                var modalTituloNome = editarDicaModal.querySelector('#dica-nome-edicao');
                var modalForm = editarDicaModal.querySelector('#form-editar-dica');
                var inputNome = editarDicaModal.querySelector('#id_nomeDica_edit');
                var inputDescricao = editarDicaModal.querySelector('#id_descricaoDica_edit');
                
                // 3. Limpar seleÃ§Ãµes visuais antigas e preencher formulÃ¡rio
                editarDicaModal.querySelectorAll('[data-humor-container]').forEach(el => 
                Â  Â  el.classList.remove('active', 'selected', 'border', 'border-4', 'border-primary')
                );

                modalTituloNome.textContent = dicaNome;
                inputNome.value = dicaNome;
                inputDescricao.value = dicaDescricao;

                // 4. Atualizar a action do formulÃ¡rio para a URL de ediÃ§Ã£o
                modalForm.setAttribute('action', URL_ALTERAR_DICA_BASE + dicaId + '/');

                // 5. PrÃ©-selecionar o humor (usa a mesma lÃ³gica de seleÃ§Ã£o, mas com o valor inicial)
                if (dicaHumorId) {
                Â  Â  // Simula o clique no cartÃ£o correto (o null faz a funÃ§Ã£o buscar o elemento)
                Â  Â  // NOTA: A funÃ§Ã£o handleHumorSelection foi ligeiramente alterada para lidar com 'element' sendo nulo, 
                Â  Â  // o que permite que ela apenas marque o rÃ¡dio e nÃ£o remova o destaque visual logo de cara.
                Â  Â  handleHumorSelection(null, dicaHumorId, '#radio-widget-editar'); 

                Â  Â  // Garante o destaque visual (pois handleHumorSelection Ã© projetada para o click)
                Â  Â  const selectedCard = editarDicaModal.querySelector(`[data-humor-value="${dicaHumorId}"]`);
                Â  Â  if (selectedCard) {
                Â  Â  Â  Â  selectedCard.classList.add('active', 'selected', 'border', 'border-4', 'border-primary');
                Â  Â  Â  Â  selectedCard.setAttribute('aria-checked', 'true');
                Â  Â  }
                }
            });
Â  Â  Â  Â  }
Â  Â  Â  Â  
Â  Â  Â  Â  // ------------------------------------------------------------------
Â  Â  Â  Â  // Inicializa Tooltips do Bootstrap
Â  Â  Â  Â  // ------------------------------------------------------------------
Â  Â  Â  Â  var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
Â  Â  Â  Â  tooltipTriggerList.map(function (tooltipTriggerEl) {
Â  Â  Â  Â  Â  return new bootstrap.Tooltip(tooltipTriggerEl);
Â  Â  Â  Â  });
Â  Â  });
</script>
{% endblock content_logado%}