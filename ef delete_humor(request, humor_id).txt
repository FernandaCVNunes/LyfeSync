ef delete_humor(request, humor_id):
    """Exclui um registro de Humor específico e redireciona com mensagem."""
    try:
        # Busca o objeto pela Primary Key (pk)
        # O campo 'usuario' garante que o usuário só exclua o seu próprio humor.
        humor_instance = get_object_or_404(Humor, pk=humor_id, usuario=request.user)
        humor_data = humor_instance.data.strftime('%d/%m/%Y')
        humor_instance.delete()
        
        # Usa o sistema de mensagens do Django
        messages.success(request, f'Humor da data {humor_data} excluído com sucesso.')
        
    except Exception as e:
        messages.error(request, f'Erro ao excluir o humor: {e}')
        
    # Redireciona sempre para a página principal de humor
    return redirect('humor')
----

def delete_humor(request, humor_id):
    """Exclui um registro de Humor específico e redireciona com mensagem."""
    try:
        # Busca o objeto pela Primary Key (pk)
        # O campo 'usuario' garante que o usuário só exclua o seu próprio humor.
        humor_instance = get_object_or_404(Humor, pk=humor_id, usuario=request.user)
        humor_data = humor_instance.data.strftime('%d/%m/%Y')
        humor_instance.delete()
        
        # Usa o sistema de mensagens do Django
        messages.success(request, f'Humor da data {humor_data} excluído com sucesso.')
        
    except Exception as e:
        messages.error(request, f'Erro ao excluir o humor: {e}')
        
    # Redireciona sempre para a página principal de humor
    return redirect('humor')
